(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{65832:function(e,t,n){Promise.resolve().then(n.bind(n,16300))},16300:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var s=n(57437),a=n(2265),l=n(41603),r=n.n(l);function i(e){let{onFileSelect:t,isLoading:n}=e,l=(0,a.useRef)(null);return(0,s.jsxs)("div",{className:r().uploadArea,onDrop:e=>{var n;e.preventDefault();let s=null===(n=e.dataTransfer.files)||void 0===n?void 0:n[0];s&&t(s)},onDragOver:e=>{e.preventDefault()},onClick:()=>{var e;null===(e=l.current)||void 0===e||e.click()},children:[(0,s.jsx)("input",{ref:l,type:"file",accept:".jsonl,.json",onChange:e=>{var n;let s=null===(n=e.target.files)||void 0===n?void 0:n[0];s&&t(s)},style:{display:"none"},disabled:n}),(0,s.jsx)("div",{className:r().uploadContent,children:n?(0,s.jsxs)("div",{className:r().loading,children:[(0,s.jsx)("div",{className:r().spinner}),(0,s.jsx)("p",{children:"Analyzing file..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:r().uploadIcon,children:"\uD83D\uDCC1"}),(0,s.jsx)("h3",{children:"Upload JSONL File"}),(0,s.jsx)("p",{children:"Drag & drop your file here, or click to select"}),(0,s.jsxs)("p",{className:r().hint,children:["Claude Code chat archives are located in ",(0,s.jsx)("code",{children:"~/.claude/projects"})]})]})})]})}var o=n(27689);function c(e){let{value:t}=e,[n,l]=(0,a.useState)(""),[r,i]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{(async()=>{try{i(!0);let e=JSON.stringify(t,null,4),n=await (0,o.CZ)(e,{lang:"json",theme:"andromeeda"});l(n)}catch(e){console.error("Failed to highlight JSON:",e),l("<pre><code>".concat(JSON.stringify(t,null,4),"</code></pre>"))}finally{i(!1)}})()},[t]),r)?(0,s.jsx)("pre",{style:{color:"#666",fontStyle:"italic"},children:"Applying syntax highlighting..."}):(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:n},style:{fontSize:"0.9rem",lineHeight:"1.6",maxWidth:"100%",whiteSpace:"pre-wrap",wordBreak:"break-word"}})}var d=n(74821),u=n.n(d);function _(e){let{message:t}=e;return t.hasMessage?(0,s.jsxs)("div",{className:u().container,children:[(0,s.jsx)("div",{className:u().metadata,children:t.role&&(0,s.jsxs)("div",{className:u().roleSection,children:[(0,s.jsx)("span",{className:u().label,children:"Role:"}),(0,s.jsx)("span",{className:"".concat(u().roleValue," ").concat(u()["role-".concat(t.role)]),children:t.role})]})}),t.content&&(0,s.jsxs)("div",{className:u().contentSection,children:[(0,s.jsx)("div",{className:u().label,children:"Content:"}),(0,s.jsx)("div",{className:u().content,children:t.content})]}),t.isContentArray&&t.contentItems&&(0,s.jsxs)("div",{className:u().contentSection,children:[(0,s.jsx)("div",{className:u().label,children:"Content:"}),(0,s.jsx)("div",{className:u().contentArray,children:t.contentItems.map((e,t)=>"text"===e.type&&e.text?(0,s.jsx)("div",{className:u().textContent,children:e.text},t):"thinking"===e.type&&e.thinking?(0,s.jsxs)("div",{className:u().thinkingContent,children:[(0,s.jsx)("div",{className:u().thinkingLabel,children:"\uD83D\uDCAD Thinking:"}),(0,s.jsx)("div",{className:u().thinkingText,children:e.thinking})]},t):"tool_use"===e.type&&e.name&&e.input?(0,s.jsxs)("div",{className:u().toolUseContent,children:[(0,s.jsxs)("div",{className:u().toolUseHeader,children:[(0,s.jsx)("span",{className:u().toolUseLabel,children:"\uD83D\uDD27 Tool Use:"}),(0,s.jsx)("span",{className:u().toolName,children:e.name})]}),(0,s.jsxs)("div",{className:u().toolInput,children:[(0,s.jsx)("div",{className:u().inputLabel,children:"Input:"}),(0,s.jsx)("div",{className:u().inputData,children:"object"==typeof e.input&&null!==e.input?(0,s.jsx)("div",{className:u().inputProperties,children:Object.entries(e.input).map(e=>{let[t,n]=e;return(0,s.jsxs)("div",{className:u().inputProperty,children:[(0,s.jsxs)("span",{className:u().inputPropertyName,children:[t,":"]}),(0,s.jsx)("span",{className:u().inputPropertyValue,children:"string"==typeof n?n:"number"==typeof n||"boolean"==typeof n?String(n):JSON.stringify(n,null,2)})]},t)})}):(0,s.jsx)("pre",{className:u().inputDataFallback,children:JSON.stringify(e.input,null,2)})})]})]},t):"tool_result"===e.type&&e.content?(0,s.jsxs)("div",{className:u().toolResultContent,children:[(0,s.jsxs)("div",{className:u().toolResultHeader,children:[(0,s.jsx)("span",{className:u().toolResultLabel,children:"âœ… Tool Result:"}),e.tool_use_id&&(0,s.jsx)("span",{className:u().toolUseId,children:e.tool_use_id})]}),(0,s.jsxs)("div",{className:u().toolResultOutput,children:[(0,s.jsx)("div",{className:u().outputLabel,children:"Output:"}),(0,s.jsx)("div",{className:u().outputContent,children:"string"==typeof e.content?e.content:Array.isArray(e.content)?e.content.map((e,t)=>"text"===e.type&&e.text?(0,s.jsx)("div",{className:u().textContent,children:e.text},t):(0,s.jsx)("div",{className:u().rawContent,children:JSON.stringify(e,null,2)},t)):JSON.stringify(e.content,null,2)})]})]},t):(0,s.jsxs)("div",{className:u().unknownContent,children:[(0,s.jsxs)("div",{className:u().contentType,children:["Type: ",e.type]}),(0,s.jsx)("pre",{className:u().contentData,children:JSON.stringify(e,null,2)})]},t))})]}),t.parentUuid&&(0,s.jsxs)("div",{className:u().parentSection,children:[(0,s.jsx)("span",{className:u().label,children:"Parent:"}),(0,s.jsxs)("a",{href:"#message-".concat(t.parentUuid),className:u().parentLink,title:"Go to parent message",children:[t.parentUuid.substring(0,8),"..."]})]}),t.hasToolResult&&t.toolUseResult&&(0,s.jsxs)("div",{className:u().toolUseResultSection,children:[(0,s.jsx)("div",{className:u().label,children:"Tool Use Result:"}),(0,s.jsx)("div",{className:u().toolUseResultContent,children:(0,s.jsx)("pre",{className:u().toolUseResultData,children:JSON.stringify(t.toolUseResult,null,2)})})]})]}):(0,s.jsx)("div",{className:u().noMessage,children:"No message data"})}var h=n(74708),p=n.n(h);function g(e){var t;let{jsonlFile:n,onReset:l}=e,[r,i]=(0,a.useState)(!0),[o,d]=(0,a.useState)(!0),[u,h]=(0,a.useState)({}),g=r?n.data:n.data.filter(e=>e.isValid),m=e=>{h(t=>({...t,[e]:!t[e]}))},x=e=>{var t;return null!==(t=u[e])&&void 0!==t?t:o},j=e=>{d(e);let t={};g.forEach(n=>{n.isValid&&(t[n.line]=e)}),h(t)};return(0,s.jsxs)("div",{className:p().container,children:[(0,s.jsxs)("div",{className:p().header,children:[(0,s.jsxs)("div",{className:p().fileInfo,children:[(0,s.jsx)("h2",{children:n.name}),(0,s.jsxs)("div",{className:p().stats,children:[(0,s.jsxs)("span",{className:p().stat,children:["Size: ",(t=n.size)<1024?"".concat(t," B"):t<1048576?"".concat((t/1024).toFixed(1)," KB"):"".concat((t/1048576).toFixed(1)," MB")]}),(0,s.jsxs)("span",{className:p().stat,children:["Total lines: ",n.totalLines]}),(0,s.jsxs)("span",{className:p().stat,children:["Valid lines: ",(0,s.jsx)("span",{className:p().valid,children:n.validLines})]}),n.invalidLines>0&&(0,s.jsxs)("span",{className:p().stat,children:["Invalid lines: ",(0,s.jsx)("span",{className:p().invalid,children:n.invalidLines})]})]})]}),(0,s.jsxs)("div",{className:p().controls,children:[(0,s.jsxs)("label",{className:p().checkbox,children:[(0,s.jsx)("input",{type:"checkbox",checked:o,onChange:e=>j(e.target.checked)}),"Show raw JSON"]}),(0,s.jsxs)("label",{className:p().checkbox,children:[(0,s.jsx)("input",{type:"checkbox",checked:r,onChange:e=>i(e.target.checked)}),"Show invalid lines"]}),(0,s.jsx)("button",{onClick:l,className:p().resetButton,children:"New file"})]})]}),(0,s.jsx)("div",{className:p().dataContainer,children:g.map(e=>{var t;let n=e.isValid?function(e){if(!e||"object"!=typeof e)return{hasMessage:!1,isContentArray:!1,hasToolResult:!1};let t=e.message,n=e.toolUseResult,s="boolean"==typeof e.isSidechain?e.isSidechain:void 0,a="boolean"==typeof e.isMeta?e.isMeta:void 0,l="string"==typeof e.uuid?e.uuid:void 0,r="string"==typeof e.parentUuid?e.parentUuid:void 0;if(!t||"object"!=typeof t)return{hasMessage:!1,isContentArray:!1,hasToolResult:!1};let i="string"==typeof t.role?t.role:void 0;return"string"==typeof t.content?{role:i,content:t.content,toolUseResult:n,isSidechain:s,isMeta:a,uuid:l,parentUuid:r,hasMessage:!0,isContentArray:!1,hasToolResult:!!n}:Array.isArray(t.content)?{role:i,contentItems:t.content,toolUseResult:n,isSidechain:s,isMeta:a,uuid:l,parentUuid:r,hasMessage:!0,isContentArray:!0,hasToolResult:!!n}:{role:i,toolUseResult:n,isSidechain:s,isMeta:a,uuid:l,parentUuid:r,hasMessage:!0,isContentArray:!1,hasToolResult:!!n}}(e.content):null,a=(null==n?void 0:n.uuid)?"message-".concat(n.uuid):"line-".concat(e.line);return(0,s.jsxs)("div",{id:a,className:"".concat(p().dataItem," ").concat(e.isValid?"":p().invalidItem),children:[(0,s.jsxs)("div",{className:p().lineNumber,children:[(0,s.jsxs)("div",{className:p().leftSection,children:[(0,s.jsxs)("span",{children:["Line ",e.line]}),(null==n?void 0:n.isSidechain)&&(0,s.jsx)("span",{className:p().sidechainBadge,children:"Sidechain"}),(null==n?void 0:n.isMeta)&&(0,s.jsx)("span",{className:p().metaBadge,children:"Meta"})]}),(0,s.jsxs)("div",{className:p().rightSection,children:[!e.isValid&&(0,s.jsx)("span",{className:p().errorBadge,children:"Error"}),e.isValid&&(0,s.jsxs)("label",{className:p().jsonToggle,children:[(0,s.jsx)("input",{type:"checkbox",checked:x(e.line),onChange:()=>m(e.line)}),"JSON"]})]})]}),(0,s.jsx)("div",{className:p().content,children:e.isValid?(0,s.jsxs)("div",{children:[(0,s.jsx)(_,{message:n}),x(e.line)&&(0,s.jsx)("div",{className:p().jsonContent,children:(t=e.content,(0,s.jsx)(c,{value:t}))})]}):(0,s.jsxs)("div",{className:p().errorContent,children:[(0,s.jsx)("div",{className:p().rawContent,children:String(e.content)}),(0,s.jsxs)("div",{className:p().errorMessage,children:["Error: ",e.error]})]})})]},e.line)})})]})}var m=n(42293),x=n.n(m);function j(){let[e,t]=(0,a.useState)(null),[n,l]=(0,a.useState)(!1),[r,o]=(0,a.useState)(null),c=async e=>{l(!0),o(null);try{let n=await e.text(),s=function(e,t){let n=e.split("\n").filter(e=>""!==e.trim()),s=[],a=0,l=0;return n.forEach((e,t)=>{try{let n=JSON.parse(e);s.push({line:t+1,content:n,isValid:!0}),a++}catch(n){s.push({line:t+1,content:e,isValid:!1,error:n instanceof Error?n.message:"Unknown error"}),l++}}),{name:t,size:e.length,data:s,totalLines:n.length,validLines:a,invalidLines:l}}(n,e.name);t(s)}catch(e){o(e instanceof Error?e.message:"Failed to load file")}finally{l(!1)}},d=()=>{t(null),o(null)};return(0,a.useEffect)(()=>{let t=t=>{if(e)return t.preventDefault(),t.returnValue="",""};return e&&window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)}},[e]),(0,s.jsx)("main",{className:x().main,children:(0,s.jsxs)("div",{className:x().container,children:[(0,s.jsxs)("header",{className:x().header,children:[(0,s.jsx)("h1",{children:"ccraw"}),(0,s.jsx)("p",{children:"Claude Code raw chat archive viewer"})]}),r&&(0,s.jsxs)("div",{className:x().error,children:[(0,s.jsx)("h3",{children:"An error occurred"}),(0,s.jsx)("p",{children:r}),(0,s.jsx)("button",{onClick:d,className:x().errorButton,children:"Reset"})]}),!e&&!r&&(0,s.jsx)(i,{onFileSelect:c,isLoading:n}),e&&!r&&(0,s.jsx)(g,{jsonlFile:e,onReset:d})]})})}},42293:function(e){e.exports={main:"page_main__GlU4n",container:"page_container__aoG4z",header:"page_header__kVzhN",error:"page_error__Jil8M",errorButton:"page_errorButton__23C_N"}},41603:function(e){e.exports={uploadArea:"FileUpload_uploadArea__w9v3W",uploadContent:"FileUpload_uploadContent__aHXkJ",uploadIcon:"FileUpload_uploadIcon__fsrdw",hint:"FileUpload_hint__jTkp_",loading:"FileUpload_loading__xYVPc",spinner:"FileUpload_spinner__LMllS",spin:"FileUpload_spin__I0G5L"}},74708:function(e){e.exports={container:"JsonlViewer_container___OG90",header:"JsonlViewer_header__8Fpzb",fileInfo:"JsonlViewer_fileInfo__Nhw9q",stats:"JsonlViewer_stats__Mnhkv",stat:"JsonlViewer_stat___7B_q",valid:"JsonlViewer_valid__8a5V_",invalid:"JsonlViewer_invalid__28N0A",controls:"JsonlViewer_controls__PRDMM",checkbox:"JsonlViewer_checkbox__XC9d0",resetButton:"JsonlViewer_resetButton__yqOpC",pagination:"JsonlViewer_pagination__2YvS_",pageButton:"JsonlViewer_pageButton___3zh7",pageInfo:"JsonlViewer_pageInfo__XUleX",dataContainer:"JsonlViewer_dataContainer__5rqMV",dataItem:"JsonlViewer_dataItem__9hxgf",invalidItem:"JsonlViewer_invalidItem__Hk6VE",lineNumber:"JsonlViewer_lineNumber__oIn1_",leftSection:"JsonlViewer_leftSection__1Bbob",rightSection:"JsonlViewer_rightSection__Zg8dg",jsonToggle:"JsonlViewer_jsonToggle__fP3aY",errorBadge:"JsonlViewer_errorBadge__dJ14i",sidechainBadge:"JsonlViewer_sidechainBadge__HlshU",metaBadge:"JsonlViewer_metaBadge__UfNZJ",content:"JsonlViewer_content__XIZOv",jsonContent:"JsonlViewer_jsonContent__DPkIm",errorContent:"JsonlViewer_errorContent__RrO5p",rawContent:"JsonlViewer_rawContent__nASEn",errorMessage:"JsonlViewer_errorMessage__dwbfh"}},74821:function(e){e.exports={container:"StructuredMessage_container__nJ4_u",noMessage:"StructuredMessage_noMessage__CS0X7",metadata:"StructuredMessage_metadata__gszTI",roleSection:"StructuredMessage_roleSection__WovD3",parentSection:"StructuredMessage_parentSection__MxJDv",parentLink:"StructuredMessage_parentLink__oNyUJ",label:"StructuredMessage_label__Pjyk_",roleValue:"StructuredMessage_roleValue__sOyqJ","role-user":"StructuredMessage_role-user__pLApe","role-assistant":"StructuredMessage_role-assistant__EPUgZ","role-system":"StructuredMessage_role-system__S8FPH","role-function":"StructuredMessage_role-function__Mb5Id",contentSection:"StructuredMessage_contentSection__4TXXw",content:"StructuredMessage_content__TqCRX",contentArray:"StructuredMessage_contentArray__CRBhX",textContent:"StructuredMessage_textContent__ZPil2",thinkingContent:"StructuredMessage_thinkingContent__eBPbV",thinkingLabel:"StructuredMessage_thinkingLabel__OfCdw",thinkingText:"StructuredMessage_thinkingText__nLMWW",toolUseContent:"StructuredMessage_toolUseContent__eH7i7",toolUseHeader:"StructuredMessage_toolUseHeader__nL9qN",toolUseLabel:"StructuredMessage_toolUseLabel__KFio5",toolName:"StructuredMessage_toolName__sCFTH",toolInput:"StructuredMessage_toolInput__S7m1u",inputLabel:"StructuredMessage_inputLabel__HcK9Y",inputData:"StructuredMessage_inputData__wdVZn",inputProperties:"StructuredMessage_inputProperties__koVRv",inputProperty:"StructuredMessage_inputProperty__a9T7d",inputPropertyName:"StructuredMessage_inputPropertyName__6iWzU",inputPropertyValue:"StructuredMessage_inputPropertyValue__G_O25",inputDataFallback:"StructuredMessage_inputDataFallback__z87cp",toolResultContent:"StructuredMessage_toolResultContent__9e8YQ",toolResultHeader:"StructuredMessage_toolResultHeader__im94S",toolResultLabel:"StructuredMessage_toolResultLabel__TLPPX",toolUseId:"StructuredMessage_toolUseId__mSxCD",toolResultOutput:"StructuredMessage_toolResultOutput__EJVlI",outputLabel:"StructuredMessage_outputLabel__hyrM0",outputContent:"StructuredMessage_outputContent__IMZg8",toolUseResultSection:"StructuredMessage_toolUseResultSection__egnF9",toolUseResultContent:"StructuredMessage_toolUseResultContent__nkmiW",toolUseResultData:"StructuredMessage_toolUseResultData__uUNWy",unknownContent:"StructuredMessage_unknownContent__nwAan",contentType:"StructuredMessage_contentType__mJFhU",contentData:"StructuredMessage_contentData__jIOL_"}}},function(e){e.O(0,[4313,7689,2971,2117,1744],function(){return e(e.s=65832)}),_N_E=e.O()}]);